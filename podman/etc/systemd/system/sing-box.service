[Unit]
Description=Sing-box Service (Python Wrapper)
Wants=network-online.target
After=network-online.target

[Service]
Type=simple
Restart=always
RestartSec=5

ExecStart=/usr/bin/podman run \
  --name sing-box \
  --replace \
  --rm \
  --init \
  --log-driver=journald \
  --env PYTHONUNBUFFERED=1 \
  -p 5000:5000 \
  -v /root/config:/app:z \
  localhost/sing-box:latest

ExecStop=/usr/bin/podman stop -t 10 sing-box

[Install]
WantedBy=multi-user.target